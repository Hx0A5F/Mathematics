!function(){"use strict";Number.prototype.Stringify=function(){return this.toString()},Number.prototype.Generalize=function(){return this};var t={Add:function(e,i){return e=t.isComplex(i)&&!t.isComplex(e)?t.Complex(e,0):e,i=t.isComplex(e)&&!t.isComplex(i)?t.Complex(i,0):i,t.isComplex(e)?e.Add(i).Generalize():e+i},Subtract:function(e,i){return e=t.isComplex(i)&&!t.isComplex(e)?t.Complex(e,0):e,i=t.isComplex(e)&&!t.isComplex(i)?t.Complex(i,0):i,t.isComplex(e)?e.Subtract(i).Generalize():e-i},Multiply:function(e,i){return e=t.isComplex(i)&&!t.isComplex(e)?t.Complex(e,0):e,i=t.isComplex(e)&&!t.isComplex(i)?t.Complex(i,0):i,t.isComplex(e)?e.Multiply(i).Generalize():e*i},Divide:function(e,i){return e=t.isComplex(i)&&!t.isComplex(e)?t.Complex(e,0):e,i=t.isComplex(e)&&!t.isComplex(i)?t.Complex(i,0):i,t.isComplex(e)?e.Divide(i).Generalize():e/i},Power:function(e,i){return t.isComplex(e)||t.isComplex(i)?t.Exp(t.Multiply(i,t.Ln(e))).Generalize():Math.pow(e,i)},Root:function(e,i){return i||(i=2),t.Power(e,t.Divide(1,i))},Square:function(e){return t.Power(e,2)},Cube:function(e){return t.Power(e,3)},Abs:function(e){return t.isComplex(e)?t.Distance([e.RealPart(),e.ImaginaryPart()],[0,0]):Math.abs(e)},Sign:function(e){return 0==e?e:t.Divide(e,t.Abs(e))},Floor:function(e){return t.isComplex(e)?t.Complex(t.Floor(e.RealPart()),t.Floor(e.ImaginaryPart())).Generalize():Math.floor(e)},Ceil:function(e){return t.isComplex(e)?t.Complex(t.Ceil(e.RealPart()),t.Ceil(e.ImaginaryPart())).Generalize():Math.ceil(e)},Round:function(e){return t.isComplex(e)?t.Complex(t.Round(e.RealPart()),t.Round(e.ImaginaryPart())).Generalize():Math.round(e)},GCD:function(e,i){return e=t.Abs(e),i=t.Abs(i),i>e?t.GCD(i,e):e%i==0?i:t.GCD(i,e%i)},LCM:function(e,i){return e*i/t.GCD(e,i)},Sin:function(e){return t.isComplex(e)?t.Complex(t.Multiply(t.Sin(e.RealPart()),t.Cosh(e.ImaginaryPart())),t.Multiply(t.Cos(e.RealPart()),t.Sinh(e.ImaginaryPart()))).Generalize():Math.sin(e)},Cos:function(e){return t.isComplex(e)?t.Complex(t.Multiply(t.Cos(e.RealPart()),t.Cosh(e.ImaginaryPart())),t.Multiply(t.Sin(e.RealPart()),t.Sinh(e.ImaginaryPart()))).Conjugate().Generalize():Math.cos(e)},Tan:function(e){return t.Divide(t.Sin(e),t.Cos(e)).Generalize()},Sec:function(e){return t.Divide(1,t.Cos(e)).Generalize()},Csc:function(e){return t.Divide(1,t.Sin(e)).Generalize()},Cot:function(e){return t.Divide(1,t.Tan(e)).Generalize()},Arcsin:function(e){return e=t.isComplex(e)?e:t.Complex(e,0),t.Complex(0,1).Multiply(t.Arcsinh(t.Complex(e.ImaginaryPart(),-e.RealPart()))).Generalize()},Arccos:function(e){return t.Subtract(t.PI/2,t.Arcsin(e)).Generalize()},Arctan:function(e){return t.Arcsin(t.Divide(e,t.Root(t.Add(t.Square(e),1)))).Generalize()},Arcsec:function(e){return t.Arccos(t.Divide(1,e)).Generalize()},Arccsc:function(e){return t.Arcsin(t.Divide(1,e)).Generalize()},Arccot:function(e){return t.Arctan(t.Divide(1,e)).Generalize()},Sinh:function(e){return t.Divide(t.Subtract(t.Exp(e),t.Exp(t.Multiply(e,-1))),2).Generalize()},Cosh:function(e){return t.Divide(t.Add(t.Exp(e),t.Exp(t.Multiply(e,-1))),2).Generalize()},Tanh:function(e){return t.Divide(t.Sinh(e),t.Cosh(e)).Generalize()},Sech:function(e){return t.Divide(1,t.Cosh(e)).Generalize()},Csch:function(e){return t.Divide(1,t.Sinh(e)).Generalize()},Coth:function(e){return t.Divide(1,t.Tanh(e)).Generalize()},Arcsinh:function(e){return t.Ln(t.Add(e,t.Root(t.Add(t.Square(e),1)))).Generalize()},Arccosh:function(e){return t.Ln(t.Add(e,t.Root(t.Subtract(t.Square(e),1)))).Generalize()},Arctanh:function(e){return t.Divide(t.Ln(t.Divide(t.Add(1,e),t.Subtract(1,e))),2).Generalize()},Arcsech:function(e){return t.Arccosh(t.Divide(1,e)).Generalize()},Arccsch:function(e){return t.Arcsinh(t.Divide(1,e)).Generalize()},Arccoth:function(e){return t.Arctanh(t.Divide(1,e)).Generalize()},Exp:function(e){return t.isComplex(e)?t.Complex(t.Exp(e.RealPart())*t.Cos(e.ImaginaryPart()),t.Exp(e.RealPart())*t.Sin(e.ImaginaryPart())).Generalize():Math.exp(e)},Log:function(e){return t.isComplex(e)?t.Ln(e).Divide(t.Complex(t.Ln(10),0)).Generalize():Math.log(e)/Math.log(10)},Lb:function(e){return t.isComplex(e)?t.Ln(e).Divide(t.Complex(t.Ln(2),0)).Generalize():Math.log(e)/Math.log(2)},Ln:function(e){return t.isComplex(e)?t.Complex(t.Ln(t.Abs(e)),Math.atan2(e.ImaginaryPart(),e.RealPart())).Generalize():0>e?t.Complex(t.Ln(-e),t.PI):Math.log(e)},AP:function(t,e){return function(i){return t+(i-1)*e}},GP:function(e,i){return function(){return e*t.Power(e,i-1)}},HP:function(e,i){return function(r){return 1/t.AP(e,i)(r)}},Fibonacci:function(e){return t.Round(1/t.Root(5)*(t.Power((1+t.Root(5))/2,e)-t.Power((1-t.Root(5))/2,e)))},Sum:function(e,i,r){for(var n=t.Complex(0,0),a=e;i>=a;a++)if(1/0==t.Abs(i)){if(n.Stringify()==t.Add(n,r(a)).Stringify())break;n=t.Add(n,r(a))}else n=t.Add(n,r(a));return n.Generalize()},Product:function(e,i,r){for(var n=t.Complex(1,0),a=e;i>=a;a++)if(1/0==t.Abs(i)){if(n.Stringify()==t.Multiply(n,r(a)).Stringify())break;n=t.Multiply(n,r(a))}else n=t.Multiply(n,r(a));return n.Generalize()},Sinc:function(e){return e=t.isComplex(e)&&e.Realize?e.Realize():e,0==e?1:t.Divide(t.Sin(e),e).Generalize()},Zeta:function(e){return e>1?1/0==e?1:t.Sum(1,1/0,function(i){return t.Divide(1,t.Power(i,e))}).Generalize():void 0},Gamma:function(e){return t.isInteger(e)?t.Product(1,t.Subtract(e,1),function(t){return t}):t.Divide(t.Product(1,1/0,function(i){return t.Divide(t.Power(t.Add(1,t.Divide(1,i)),e),t.Add(1,t.Divide(e,i)))}),e).Generalize()},Factorial:function(e){return t.Gamma(t.Add(e,1))},isInteger:function(e){return t.isComplex(e)?e.Realize instanceof Function&&e.Realize()%1==0:e%1==0},isComplex:function(t){return t.RealPart instanceof Function&&t.ImaginaryPart instanceof Function},isCoprime:function(e,i){return e=t.isInteger(e)&&t.isComplex(e)?e.Realize():e,i=t.isInteger(i)&&t.isComplex(i)?i.Realize():i,t.isInteger(e)&&t.isInteger(i)&&1==t.GCD(e,i)},Radian:function(e){return e/180*t.PI},Degree:function(e){return 180*e/t.PI},Distance:function(e,i){return t.Root(t.Square(t.Subtract(i[0],e[0]))+t.Square(t.Subtract(i[1],e[1]))).Generalize()},Midpoint:function(e,i){return[t.Divide(t.Add(i[0],e[0]),2).Generalize(),t.Divide(t.Add(i[1],e[1]),2).Generalize()]},Matrix:function(e){var i=function(e){var i=e,r=e.length,n=e[0].length?e[0].length:1;this.Rows=r,this.Columns=n,this.Item=function(t,e){return t>0&&e>0?i[t-1][e-1]:void 0},this.RowVector=function(e){return t.Matrix([i[e-1]])},this.ColumnVector=function(e){for(var i=[],n=1;r>=n;n++)i.push([this.Item(n,e)]);return t.Matrix(i)},this.ScalarMultiply=function(e){for(var a=[],u=0;r>u;u++){a[u]=[];for(var o=0;n>o;o++)a[u].push(t.Multiply(i[u][o],e).Generalize())}return t.Matrix(a)},this.Transpose=function(){for(var e=[],a=0;n>a;a++){e[a]=[];for(var u=0;r>u;u++)e[a][u]=i[u][a]}return t.Matrix(e)},this.Multiply=function(e){if(n==e.Rows){for(var i=[],a=e.Transpose(),u=0;r>u;u++){i[u]=[];for(var o=0;o<e.Columns;o++){i[u][o]=0;for(var l=1;n>=l;l++)i[u][o]=t.Add(i[u][o],t.Multiply(this.Item(u+1,l),a.Item(o+1,l)))}}return t.Matrix(i)}},n==r&&(this.Adjugate=function(){for(var e=[],i=1;r>=i;i++){e.push([]);for(var a=1;n>=a;a++)e[e.length-1].push(this.Cofactor(i,a))}return t.Matrix(e).Transpose()},this.Minor=function(e,i){for(var a=[],u=0;r>u;u++)if(u!=e-1){a.push([]);for(var o=1;n>=o;o++)o!=i&&a[a.length-1].push(this.Item(u+1,o))}return t.Matrix(a).Determinant()},this.Cofactor=function(e,i){return t.Multiply(t.Power(-1,e+i),this.Minor(e,i))},this.Trace=function(){for(var e=0,i=1;r>=i;i++)e=t.Add(e,this.Item(i,i));return e.Generalize()},this.Determinant=function(){return 1==r?this.Item(1,1).Generalize():t.Sum(1,r,function(e){return function(i){return t.Multiply(e.Item(i,1),e.Cofactor(i,1))}}(this))},0!=this.Determinant()&&(this.InverseMatrix=function(){return this.Adjugate().ScalarMultiply(t.Divide(1,this.Determinant()))})),(1==n||1==r)&&(this.Serialize=function(){if(1==n)return this.Transpose().Serialize();for(var t=[],e=1;n>=e;e++)t.push(this.Item(1,e));return t}),this.Stringify=function(){for(var t="[",e=1;r>=e;e++){t+=1==e?"":" ";for(var i=1;n>=i;i++)t+=this.Item(e,i).Stringify()+(e==r&&i==n?"":", ");t+=e==r?"]":"\n"}return t}};return new i(e)},Complex:function(e,i){var r=function(e,i){var r=e,n=i;this.RealPart=function(){return r},this.ImaginaryPart=function(){return n},0==n&&(this.Realize=function(){return Number(r)}),this.Generalize=function(){return this.Realize?this.Realize():this},this.Add=function(e){return t.Complex(r+e.RealPart(),n+e.ImaginaryPart())},this.Subtract=function(e){return t.Complex(r-e.RealPart(),n-e.ImaginaryPart())},this.Multiply=function(e){return t.Complex(r*e.RealPart()-n*e.ImaginaryPart(),r*e.ImaginaryPart()+n*e.RealPart())},this.Divide=function(e){return t.Complex((r*e.RealPart()+n*e.ImaginaryPart())/(t.Square(e.RealPart())+t.Square(e.ImaginaryPart())),(n*e.RealPart()-r*e.ImaginaryPart())/(t.Square(e.RealPart())+t.Square(e.ImaginaryPart())))},this.Conjugate=function(){return t.Complex(r,-n)},this.Stringify=function(){return r.toString()+" + "+n.toString()+"i"}};return new r(e,i)},RotateTransform:function(e,i){return t.Matrix([[t.Cos(e),-t.Sin(e)],[t.Sin(e),t.Cos(e)]]).Multiply(t.Matrix([[i[0]],[i[1]]])).ColumnVector(1).Serialize()},Permutation:function(e,i){return t.Divide(t.Factorial(e),t.Factorial(t.Subtract(e,i)))},RepeatedPermutation:function(e,i){return t.Power(e,i)},Combination:function(e,i){return t.Divide(t.Permutation(e,i),t.Factorial(i))},RepeatedCombination:function(e,i){return t.Combination(t.Subtract(t.Add(e,i),1),i)},Vector:function(e){var i=function(i){var i=t.Matrix([e]);this.Matrix=function(){return t.Matrix([i.RowVector(1).Serialize()])},this.Length=function(){for(var e=0,r=1;r<=i.Columns;r++)e=t.Add(e,t.Square(i.Item(1,r)));return t.Root(e)},this.Direction=function(){},this.InnerProduct=this.ScalarProduct=this.DotProduct=function(t){return i.Transpose().Multiply(t.Matrix()).Trace()},(3==i.Columns||7==i.Columns)&&(this.OuterProduct=this.VectorProduct=this.CrossProduct=function(e){return 3==i.Columns?t.Vector([t.Subtract(t.Multiply(i.Item(1,2),e.Matrix().Item(1,3)),t.Multiply(i.Item(1,3),e.Matrix().Item(1,2))),t.Subtract(t.Multiply(i.Item(1,3),e.Matrix().Item(1,1)),t.Multiply(i.Item(1,1),e.Matrix().Item(1,3))),t.Subtract(t.Multiply(i.Item(1,1),e.Matrix().Item(1,2)),t.Multiply(i.Item(1,2),e.Matrix().Item(1,1)))]):t.Vector([t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,2),e.Matrix().Item(1,3)),t.Multiply(i.Item(1,4),e.Matrix().Item(1,5))),t.Multiply(i.Item(1,7),e.Matrix().Item(1,6))),t.Add(t.Add(t.Multiply(i.Item(1,3),e.Matrix().Item(1,2)),t.Multiply(i.Item(1,5),e.Matrix().Item(1,4))),t.Multiply(i.Item(1,6),e.Matrix().Item(1,7)))),t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,3),e.Matrix().Item(1,1)),t.Multiply(i.Item(1,4),e.Matrix().Item(1,6))),t.Multiply(i.Item(1,5),e.Matrix().Item(1,7))),t.Add(t.Add(t.Multiply(i.Item(1,1),e.Matrix().Item(1,3)),t.Multiply(i.Item(1,6),e.Matrix().Item(1,4))),t.Multiply(i.Item(1,7),e.Matrix().Item(1,5)))),t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,1),e.Matrix().Item(1,2)),t.Multiply(i.Item(1,2),e.Matrix().Item(1,1))),t.Multiply(i.Item(1,4),e.Matrix().Item(1,7))),t.Add(t.Add(t.Multiply(i.Item(1,5),e.Matrix().Item(1,6)),t.Multiply(i.Item(1,6),e.Matrix().Item(1,5))),t.Multiply(i.Item(1,7),e.Matrix().Item(1,4)))),t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,5),e.Matrix().Item(1,1)),t.Multiply(i.Item(1,6),e.Matrix().Item(1,2))),t.Multiply(i.Item(1,7),e.Matrix().Item(1,3))),t.Add(t.Add(t.Multiply(i.Item(1,1),e.Matrix().Item(1,5)),t.Multiply(i.Item(1,2),e.Matrix().Item(1,6))),t.Multiply(i.Item(1,3),e.Matrix().Item(1,7)))),t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,1),e.Matrix().Item(1,4)),t.Multiply(i.Item(1,2),e.Matrix().Item(1,7))),t.Add(t.Multiply(i.Item(1,3),e.Matrix().Item(1,6)),t.Multiply(i.Item(1,4),e.Matrix().Item(1,1)))),t.Add(t.Multiply(i.Item(1,6),e.Matrix().Item(1,3)),t.Multiply(i.Item(1,7),e.Matrix().Item(1,2)))),t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,1),e.Matrix().Item(1,7)),t.Multiply(i.Item(1,2),e.Matrix().Item(1,4))),t.Add(t.Multiply(i.Item(1,3),e.Matrix().Item(1,5)),t.Multiply(i.Item(1,4),e.Matrix().Item(1,2)))),t.Add(t.Multiply(i.Item(1,5),e.Matrix().Item(1,3)),t.Multiply(i.Item(1,7),e.Matrix().Item(1,1)))),t.Subtract(t.Add(t.Add(t.Multiply(i.Item(1,4),e.Matrix().Item(1,3)),t.Multiply(i.Item(1,1),e.Matrix().Item(1,6))),t.Add(t.Multiply(i.Item(1,3),e.Matrix().Item(1,4)),t.Multiply(i.Item(1,2),e.Matrix().Item(1,5)))),t.Add(t.Multiply(i.Item(1,6),e.Matrix().Item(1,1)),t.Multiply(i.Item(1,5),e.Matrix().Item(1,2))))])}),this.ScalarMultiply=function(e){return t.Vector(this.Matrix().ScalarMultiply(e).Serialize())}};return new i(e)}};t.E=t.Sum(0,1/0,function(e){return 1/t.Factorial(e)}),t.PI=t.Sum(0,1/0,function(e){return t.Power(16,-e)*(4/(8*e+1)-2/(8*e+4)-1/(8*e+5)-1/(8*e+6))}),t.PHI=(1+t.Root(5))/2,t.Matrix.Identity=function(e){for(var i=[],r=0;e>r;r++){i[r]=[];for(var n=0;e>n;n++)i[r][n]=r==n?1:0}return t.Matrix(i)},t.Matrix.Zero=function(e){for(var i=[],r=0;e>r;r++){i[r]=[];for(var n=0;e>n;n++)i[r][n]=0}return t.Matrix(i)},window.Mathematics=t}();